<h1>Customers</h1>
<form [formGroup]="customerForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
        <label>Name</label>
        <input type="text" formControlName="Name" class="form-control" [class.is-invalid]="fCustomer.Name.invalid 
                                                                                        && fCustomer.Name.touched">
        <div *ngIf="fCustomer.Name.invalid && fCustomer.Name.touched">
            <small *ngIf="fCustomer.Name.errors?.required" class="text-danger">Name is required</small>
            <small *ngIf="fCustomer.Name.errors?.minlength" class="text-danger">Minimun length 3</small>
        </div>
    </div>
    <div class="form-group">
        <label>Address</label>
        <input type="text" formControlName="Address" class="form-control">
    </div>
    <div class="form-group">
        <label>House No</label>
        <input type="text" formControlName="House_No" class="form-control">
    </div>
    <div class="form-group">
        <label>State</label>
        <input type="text" formControlName="State" class="form-control">
    </div>
    <div class="form-group">
        <label>Phone</label>
        <input type="text" formControlName="Phone" class="form-control">
    </div>
    <div class="form-group">
        <label>Postal Code</label>
        <input type="text" formControlName="Postal_Code" class="form-control">
    </div>
    <div class="form-group">
        <!-- <div>{{ customerForm.get('Tax_Number').errors | json }}</div>  -->
        <label>Tax Number</label>
        <input type="text" formControlName="Tax_Number" class="form-control" [class.is-invalid]="fCustomer.Tax_Number.invalid 
                                                                                                && fCustomer.Tax_Number.touched">
        <div *ngIf="fCustomer.Tax_Number.invalid && fCustomer.Tax_Number.touched">
            <small *ngIf="fCustomer.Tax_Number.errors?.required" class="text-danger">Name is required</small>
            <small *ngIf="fCustomer.Tax_Number.errors?.minlength" class="text-danger">Minimun length 5</small>
        </div>
    </div>
    <div class="form-check">
        <input type="checkbox" formControlName="Is_Exent" value="" class="form-check-input" name="Is_Exent">
        <label class="form-check-label" for="Is_Exent">Is Exent</label>
    </div>
    <div class="form-group" *ngIf="customerForm.value.Is_Exent">
        <label>Reason</label>
        <input type="text" formControlName="Reason" class="form-control" [class.is-invalid]="fCustomer.Reason.invalid 
                                                                                            && fCustomer.Reason.touched">
        <div *ngIf="fCustomer.Reason.invalid && fCustomer.Reason.touched">
            <small *ngIf="fCustomer.Reason.errors?.required" class="text-danger">Reason is required</small>
            <small *ngIf="fCustomer.Reason.errors?.minlength" class="text-danger">Minimun length 3</small>
        </div>
    </div>
    <div class="form-group">
        <label>Email</label>
        <input type="text" formControlName="Email" class="form-control" [class.is-invalid]="fCustomer.Email.invalid 
                                                                                        && fCustomer.Email.touched"> 
        <div *ngIf="fCustomer.Email.invalid && fCustomer.Email.touched">
            <small *ngIf="fCustomer.Email.errors.email" class="text-danger">Email must be a valid email address</small>
        </div>
    </div>
    <div class="form-check" *ngIf="customerForm.value.CustomerId !== '' && customerForm.value.CustomerId !== null">
        <input type="checkbox" formControlName="Status" value="" class="form-check-input" name="Status">  
        <label class="form-check-label" for="Status">Status</label>
    </div>
    <div class="from-group">
        <label>Country Code: </label>
        <app-typeahead formControlName="Country" [requiredValue]="requiredCountry" [dropDownName]="nameList" [dataSource]="loadList" name="Country"></app-typeahead>
    </div>
    <button type="submit" id="save" class="btn btn-primary" [disabled]="!customerForm.valid">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Save
    </button>
    <input type="button" id="cancel" value="Cancel" class="btn btn-danger" (click)="onCancel()">
    {{ customerForm.value | json }}
</form>    