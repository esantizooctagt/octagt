<h2>Taxes</h2>
<form [formGroup]="taxForm" (ngSubmit)="onSubmit()">
    <div class="overlay" *ngIf="loading">
        <mat-progress-spinner id="spinTax" class="form-spinner" mode="indeterminate"></mat-progress-spinner>
        <mat-label class="label-overlay">Processing Tax...</mat-label>
    </div>
    <div class="form-field">
        <mat-form-field hintLabel="Min 3 characters">
            <input matInput #Name placeholder="Name" maxlength="50" formControlName="Name" [errorStateMatcher]="confirmValidParentMatcher" required>
            <mat-hint align="end">{{Name.value?.length || 0}}/50</mat-hint>
            <mat-error *ngIf="Name.invalid">{{getErrorMessage('Name')}}</mat-error>
        </mat-form-field>
    </div>
    <div class="form-field">
        <mat-form-field hintLabel="Only decimal values">
            <input matInput placeholder="Percentage" min="0.01" max="99.90" type="number" (keypress)="onKeyPress($event, $event.target.value)" pattern="^[0-9]{0,2}\.?[0-9]{0,2}$" [errorStateMatcher]="confirmValidParentMatcher" formControlName="Percentage" class="values-right-align" required>
            <mat-error *ngIf="Percentage.invalid">{{getErrorMessage('Percentage')}}</mat-error>
        </mat-form-field>
    </div>
    <div class="form-field-check">
        <mat-checkbox formControlName="Include_Tax">Price Include Taxes</mat-checkbox>
    </div>
    <div class="form-field-check" *ngIf="country=='DEU'">
        <mat-checkbox formControlName="To_Go">To Go</mat-checkbox>
    </div>
    <div class="form-field-check" *ngIf="taxForm.value.TaxId !== '' && taxForm.value.TaxId !== null">
        <mat-checkbox formControlName="Status">Status</mat-checkbox>
    </div>
    <button mat-flat-button color="primary" id="save" [disabled]="!taxForm.valid" class="mr-3 mt-2">Save</button>
    <button mat-flat-button color="accent" id="cancel" (click)="onCancel()" class="mt-2">Cancel</button>
    <!-- {{ taxForm.value | json }} -->
</form>
